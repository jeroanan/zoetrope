angular.module("zoetropeDirectives").directive("attachDialog",function(){return{restrict:"E",scope:{projecturl:"@",projectname:"@"},templateUrl:"/static/directives/attachDialog.html",controller:["$scope","projectSvc","md5Svc",function(a,b,c){function d(){if(a.errorText="",a.success=!1,e()){var d=a.password+a.emailaddress,g=c.query(d)();a.loading=!0,b.attachProject(a.projecturl,a.emailaddress,g,a.username,a.newAccountActive,f)}}function e(){if(a.newAccountActive){if(""===a.password||""===a.emailaddress||""===a.username)return a.errorText="Please enter an email address, password and username to attach to this project.",!1}else if(""===a.password||""===a.emailaddress)return a.errorText="Please enter an email address and password to attach to this project.",!1;return!0}function f(b){a.loading=!1,b.error_message&&""!==b.error_message?a.errorText=b.error_message:a.success=!0}function g(){i("existingAccountPill","newAccountPill"),a.newAccountActive=!1}function h(){i("newAccountPill","existingAccountPill"),a.newAccountActive=!0}function i(a,b){var c=$("#"+a),d=$("#"+b),e="active";c.addClass(e),d.removeClass(e)}a.emailaddress="",a.password="",a.username="",a.errorText="",a.success=!1,a.loading=!1,a.newAccountActive=!1,a.popupMode=null,a.submitClicked=d,a.existingAccountPillClicked=g,a.newAccountPillClicked=h}],link:function(a,b,c,d){function e(){""===a.projecturl&&""===a.projectname&&(a.popupMode=!1),a.popupMode=!0}c.$observe("projecturl",function(a){e()}),c.$observe("projectname",function(a){e()})}}}),angular.module("zoetropeDirectives").directive("zoeChangePasswordDialog",function(){return{restrict:"E",scope:{user:"@"},templateUrl:"/static/directives/changePasswordDialog.html",controller:["$scope","userSvc",function(a,b){function c(){return""===a.password||""===a.confirmPassword?(a.operationSuccess=!1,void(a.errorText="Please enter a password and confirmation password")):a.password!==a.confirmPassword?(a.operationSuccess=!1,void(a.errorText="Password and confirmation password must match")):(a.user.password=a.password,a.user.confirmPassword=a.confirmPassword,void b.changePassword(a.user,d,e))}function d(b){return b.success?(a.operationSuccess=!0,void(a.operationSuccessMessage="Password changed successfully")):(a.operationSuccess=!1,void(a.errorText=b.error_message.split("|")[0]))}function e(b){a.operationSuccess=!1,a.errorText=b.statusText}a.password="",a.confirmPassword="",a.operationSuccess=!1,a.operationSuccessMessage="",a.errorText="",a.submitClicked=c}],link:function(a,b,c,d){c.$observe("user",function(b){""!==b&&(a.user=JSON.parse(b))})}}}),angular.module("zoetropeDirectives").directive("detachDialog",function(){return{restrict:"E",templateUrl:"/static/directives/detachDialog.html",controller:["$scope","projectSvc",function(a,b){function c(){a.errorText="",b.detachProject(a.projecturl,d)}function d(b){if(b.error_message){if(b.error_message===-1414)return $("#detachModal").modal("hide"),void setTimeout(function(){document.location="/#/login"},500);a.errorText=b.error_message}else $("#detachModal").modal("hide")}a.submitClicked=c,a.errorText="",a.projecturl="",a.projectname=""}],link:function(a,b,c,d){c.$observe("projecturl",function(b){a.projecturl=b}),c.$observe("projectname",function(b){a.projectname=b})}}}),angular.module("zoetropeDirectives").directive("keyvalrow",function(){return{restrict:"E",scope:{key:"@",val:"@",col1LgWidth:"@",col1XsWidth:"@",col2LgWidth:"@",col2XsWidth:"@",col3LgWidth:"@",col3XsWidth:"@",col4LgWidth:"@",col4XsWidth:"@",tooltip:"@"},replace:!0,templateUrl:"/static/directives/keyvalrow.html",controller:["$scope",function(a){a.col1LgWidth||(a.col1LgWidth="2"),a.col1XsWidth||(a.col1XsWidth="1"),a.col2LgWidth||(a.col2LgWidth="4"),a.col2XsWidth||(a.col2XsWidth="5"),a.col3LgWidth||(a.col3LgWidth="4"),a.col3XsWidth||(a.col3XsWidth="5"),a.col4LgWidth||(a.col4LgWidth="2"),a.col4XsWidth||(a.col4XsWidth="1")}],link:function(a,b,c){a.key=c.key,c.$observe("val",function(b){a.val=b}),c.$observe("tooltip",function(b){a.tooltip=b})}}}),angular.module("zoetropeDirectives").directive("keyvallinkrow",function(){return{restrict:"E",scope:{key:"@",link:"@",text:"@",col1LgWidth:"@",col1XsWidth:"@",col2LgWidth:"@",col2XsWidth:"@",col3LgWidth:"@",col3XsWidth:"@",col4LgWidth:"@",col4XsWidth:"@"},templateUrl:"/static/directives/keyvallinkrow.html",controller:["$scope",function(a){a.col1LgWidth||(a.col1LgWidth="2"),a.col1XsWidth||(a.col1XsWidth="1"),a.col2LgWidth||(a.col2LgWidth="4"),a.col2XsWidth||(a.col2XsWidth="5"),a.col3LgWidth||(a.col3LgWidth="4"),a.col3XsWidth||(a.col3XsWidth="5"),a.col4LgWidth||(a.col4LgWidth="2"),a.col4XsWidth||(a.col4XsWidth="1")}],link:function(a,b,c){a.key=c.key}}}),angular.module("zoetropeDirectives").directive("projectStatistics",function(){return{restrict:"E",scope:{projectUrl:"@"},templateUrl:"/static/directives/projectStatistics.html",controller:["$scope","projectSvc",function(a,b){function c(b){if(b.length>0&&b.error_message&&b.error_message===-1414)return void(document.location="/#/login");var c=[];for(var d in b[0]){var e=b[0][d];e.day&&(e.day=e.day.split(" ")[0],c.push(e))}a.projectStats=c.map(function(a){return a.user_total_credit=parseFloat(a.user_total_credit),a.user_expavg_credit=parseFloat(a.user_expavg_credit),a.host_total_credit=parseFloat(a.host_total_credit),a.host_expavg_credit=parseFloat(a.host_expavg_credit),a})}a.sortField="day",a.reverseSort=!0,a.sort=getSortFunc(a,"sortField","reverseSort"),a.stats={},a.upArrow=upArrow,a.downArrow=downArrow,b.getProjectStatistics(a.projectUrl,c)}],link:function(a,b,c){}}});
//# sourceMappingURL=directives.js.map