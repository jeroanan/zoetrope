<div ng-controller="DailyTransferCtrl as vm">
  <h1>{{ vm.title }}</h1>
  <div ng-show="!vm.ready" class="text-center">
    <img src="/static/img/loading.gif" />
  </div>
  <div ng-show="vm.ready">
    <keyvalrow key="Total uploaded" val="{{ vm.totalUploaded }}"></keyvalrow>
    <keyvalrow key="Total downloaded" val="{{ vm.totalDownloaded }}"></keyvalrow>

    <br />

    <table class="table table-striped">
      <thead>
        <th><a ng-click="vm.orderProp='date'; vm.reverseSort = !vm.reverseSort;">Date</a></th>
        <th><a ng-click="vm.orderProp='uploaded'; vm.reverseSort = !vm.reverseSort">Uploaded</a></th>
        <th><a ng-click="vm.orderProp='downloaded'; vm.reverseSort = !vm.reverseSort">Downloaded</a></th>
      </thead>
      <tr ng-repeat="dt in vm.daily_transfers | orderBy:vm.orderProp:vm.reverseSort">
        <td>{{ dt.date.toDateString() }}</td>
        <td>{{ dt.uploaded + 'MB' }}</td>
        <td>{{ dt.downloaded + 'MB' }}</td>
      </tr>
    </table>
  </div>
</div>
